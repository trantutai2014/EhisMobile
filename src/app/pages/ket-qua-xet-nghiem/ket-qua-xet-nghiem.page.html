<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title style="font-size: larger;">Kết quả xét nghiệmt</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">
  <ion-grid>
    <!-- Header row for the table -->
    <ion-row class="table-header">
      <ion-col size="1.3">STT</ion-col>
      <ion-col size="2">Mã</ion-col>
      <ion-col size="5.7">Tên xét nghiệm</ion-col>
      <ion-col size="3">Kết quả</ion-col>
    </ion-row>

    <!-- Loop through each item in items array -->
    <ng-container *ngFor="let item of items; let i = index">
      <!-- Row for main test info -->
      <ion-row class="test-info">
        <ion-col size="12" class="ion-text-bold">
          {{ i + 1 }}. {{ item.ten }} [{{ item.LoaiMau || 'Mẫu' }}]
        </ion-col>
      </ion-row>

      <!-- Nested loop for each ketQua in current item -->
      <ng-container *ngFor="let ketQua of item.ketQua; let j = index">
        <ion-row [class.sub-item]="j > 0">
          <ion-col size="1">{{ j + 1 }}</ion-col>
          <ion-col size="2">{{ ketQua.ma }}</ion-col>
          <ion-col size="6">{{ ketQua.ten }}</ion-col>
          <ion-col size="3">{{ ketQua.ketQua }} {{ ketQua.donVi }}</ion-col>
        </ion-row>
      </ng-container>
    </ng-container>
  </ion-grid>
  <ion-nav-link router-direction="forward" [component]="component">
    <ion-button expand="block" color="primary" style="margin-top: 20px;">Phẫu thuật đã thực hiện </ion-button>
  </ion-nav-link>
</ion-content>
