<ion-card-header>
  <ion-card-title style="font-size: larger;">Kết quả xét nghiệm có giá trị</ion-card-title>
</ion-card-header>

<ion-grid *ngIf="items && items.length">
  <!-- Header row for the table -->
  <ion-row>
    <ion-col>STT</ion-col>
    <ion-col>Mã</ion-col>
    <ion-col>Tên xét nghiệm</ion-col>
    <ion-col>Kết quả</ion-col>
  </ion-row>

  <!-- Loop through each item in items array -->
  <ng-container *ngFor="let item of items; let i = index">
    <ion-row class="heading1">
      <ion-col class="date-time">
        {{ i + 1 }}. {{ item.Ten }} [{{ item.LoaiMau }}]
        <span>{{ item.NgayKetQua | date: 'dd/MM/yyyy HH:mm' }}</span>
      </ion-col>
    </ion-row>

    <!-- Nested loop for each KetQua in current item -->
    <ion-row *ngFor="let ketQua of item.KetQua">
      <ion-col>{{ ketQua.Ma }}</ion-col>
      <ion-col>{{ ketQua.Ten }}</ion-col>
      <ion-col>{{ ketQua.KetQua }}</ion-col>
      <ion-col>{{ ketQua.DonVi }}</ion-col>
    </ion-row>
  </ng-container>
</ion-grid>

<!-- Message if no data is found -->
<ion-item *ngIf="!loading && (!items || items.length === 0)">
  Không có thông tin.
</ion-item>

<!-- Loading and error messages -->
<ion-item *ngIf="loading">Loading...</ion-item>
<ion-item *ngIf="error">{{ error }}</ion-item>
